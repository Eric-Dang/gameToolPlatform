{"ast":null,"code":"var _jsxFileName = \"E:\\\\GitHub\\\\timespeed\\\\src\\\\dataMgr.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./dataMgr.css\"; // ------------------------------------------------------------------------------------------------------\n// 功能信息\n// ------------------------------------------------------------------------------------------------------\n// 功能配置表\n\nvar toolConfig = new Array(); // 显示的功能页功能索引\n\nvar showToolIndex = 0; // ------------------------------------------------------------------------------------------------------\n\nfunction createToolObj(name, render, index) {\n  return {\n    name: name,\n    render: render,\n    index: index\n  };\n} // 注册新功能\n\n\nexport function regNewTool(name, render) {\n  if (typeof render != \"function\") return false;\n  if (typeof name != \"string\") return false;\n  var to = createToolObj(name, render, toolConfig.length);\n  toolConfig.push(to);\n} // ------------------------------------------------------------------------------------------------------\n// 页面部分\n// ------------------------------------------------------------------------------------------------------\n// 创建一个功能按钮\n\nfunction ToolButton(props) {\n  return React.createElement(\"button\", {\n    class: \"ToolButton\",\n    id: props.id,\n    onClick: props.onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, props.buttonName);\n}\n\nfunction setSelectIndex(selectid) {\n  console.log(\"toolUI %s\", showToolIndex, selectid);\n  if (selectid != undefined) showToolIndex = selectid;\n}\n\nclass Test1 extends React.Component {\n  render() {\n    return React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \" Test1 \");\n  }\n\n}\n\nclass Test2 extends React.Component {\n  render() {\n    return React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \" Test2 \");\n  }\n\n}\n\nvar ts = new Array();\nts.push(Test1);\nts.push(Test2); // 获取所有功能按钮\n\nfunction GetShowInfo(f) {\n  var buttons = toolConfig.map(tobj => {\n    var id = \"tabButton\" + tobj.index;\n    return React.createElement(ToolButton, {\n      buttonName: tobj.name,\n      key: id,\n      onClick: () => {\n        f(tobj.index);\n        setSelectIndex(tobj.index);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    });\n  });\n  console.log(\"toolUI %s\", showToolIndex);\n  var showConfig = toolConfig[showToolIndex];\n  var toolUI = showConfig.render();\n  console.log(\"toolUI %s\", typeof toolUI);\n  var tss = ts.map(x => {});\n  return React.createElement(\"div\", {\n    className: \"BaseBorder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ToolButtonBorder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, buttons), React.createElement(\"div\", {\n    className: \"ToolUIBorder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, toolUI));\n}\n\nexport function ShowInfo(f) {\n  return GetShowInfo(f);\n}","map":{"version":3,"sources":["E:\\GitHub\\timespeed\\src\\dataMgr.js"],"names":["React","ReactDOM","toolConfig","Array","showToolIndex","createToolObj","name","render","index","regNewTool","to","length","push","ToolButton","props","id","onClick","buttonName","setSelectIndex","selectid","console","log","undefined","Test1","Component","Test2","ts","GetShowInfo","f","buttons","map","tobj","showConfig","toolUI","tss","x","ShowInfo"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./dataMgr.css\"\r\n// ------------------------------------------------------------------------------------------------------\r\n// 功能信息\r\n// ------------------------------------------------------------------------------------------------------\r\n// 功能配置表\r\nvar toolConfig = new Array()\r\n// 显示的功能页功能索引\r\nvar showToolIndex = 0\r\n// ------------------------------------------------------------------------------------------------------\r\nfunction createToolObj(name, render, index){\r\n    return {\r\n        name: name,\r\n        render:render,\r\n        index:index,\r\n    }\r\n}\r\n\r\n// 注册新功能\r\nexport function regNewTool(name, render){\r\n    if(typeof(render) != \"function\")\r\n        return false\r\n\r\n    if(typeof(name) != \"string\")\r\n        return false\r\n    \r\n    var to = createToolObj(name, render, toolConfig.length)\r\n    toolConfig.push(to)\r\n}\r\n// ------------------------------------------------------------------------------------------------------\r\n// 页面部分\r\n// ------------------------------------------------------------------------------------------------------\r\n// 创建一个功能按钮\r\nfunction ToolButton(props){\r\n    return(\r\n        <button class=\"ToolButton\" id={props.id} onClick = {props.onClick}>{props.buttonName}</button>\r\n    );\r\n}\r\n\r\nfunction setSelectIndex(selectid){\r\n    console.log(\"toolUI %s\", showToolIndex, selectid)\r\n    if (selectid != undefined)\r\n        showToolIndex = selectid;\r\n}\r\n\r\nclass Test1 extends React.Component {\r\n    render() {\r\n        return (\r\n            <button> Test1 </button>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass Test2 extends React.Component {\r\n    render() {\r\n        return (\r\n            <button> Test2 </button>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nvar ts = new Array()\r\nts.push(Test1)\r\nts.push(Test2)\r\n\r\n// 获取所有功能按钮\r\nfunction GetShowInfo(f){\r\n    var buttons = toolConfig.map(\r\n        (tobj) => {\r\n            var id = \"tabButton\"+tobj.index;\r\n            return (<ToolButton buttonName={tobj.name} key={id} onClick={() => {f(tobj.index); setSelectIndex(tobj.index)}} />)\r\n        }\r\n    )\r\n    console.log(\"toolUI %s\", showToolIndex)\r\n    var showConfig = toolConfig[showToolIndex]\r\n    var toolUI = showConfig.render()\r\n    console.log(\"toolUI %s\", typeof(toolUI))\r\n\r\n    var tss = ts.map(\r\n        (x) => {}\r\n    )\r\n\r\n\r\n    return(\r\n        <div className=\"BaseBorder\">\r\n            <div className=\"ToolButtonBorder\">\r\n            {buttons}\r\n            </div>\r\n            <div className=\"ToolUIBorder\">\r\n            {toolUI}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport function ShowInfo(f){\r\n    return GetShowInfo(f)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}